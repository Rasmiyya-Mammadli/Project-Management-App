<div class="header">
  <div class="header_logo">
    <a routerLink="/">
      <mat-icon
        aria-hidden="false"
        aria-label="PM-App"
        color="warn"
        fontIcon="view_kanban"></mat-icon
      >PM-App
    </a>
  </div>
  <div
    class="header_menu flex-container"
    [ngClass]="{ fullWidth: isAuthorized }">
    <div *ngIf="isAuthorized" class="flex-container">
      <div class="header_create-board">
        <button
          mat-stroked-button
          (click)="onCreateNewBoard()"
          class="result_item_remove-btn">
          {{ 'HEADER.new_board_button' | translate }}
          <mat-icon
            mat-icon-no-color
            color="warn"
            class="result_item_remove-btn__icon"
            >dashboard_customize</mat-icon
          >
        </button>
      </div>
      <div class="header_search-bar">
        <app-search-bar></app-search-bar>
      </div>
    </div>
    <div class="flex-container">
      <div class="header_language">
        <button
          (click)="LanguageSwitcher()"
          mat-icon-button
          class="text-sm"
          aria-label="languages">
          <mat-icon color="warn" class="lang-ico text-sm">translate</mat-icon
          >{{ switchLanguageTo }}
        </button>
      </div>
      <div class="header_auth" *ngIf="isAuthorized; else unathorized">
        <div class="header_user">
          <button routerLink="/profile" mat-flat-button color="warn">
            {{ 'HEADER.buttons.profile_button' | translate }}
          </button>
          <button mat-stroked-button color="warn" (click)="logout()">
            {{ 'HEADER.buttons.logout_button' | translate }}
          </button>
        </div>
      </div>
      <ng-template #unathorized>
        <div class="header_user-unauth">
          <button routerLink="/auth/login" mat-flat-button color="warn">
            {{ 'HEADER.buttons.login_button' | translate }}
          </button>
          <button routerLink="/auth/sign-up" mat-flat-button color="warn">
            {{ 'HEADER.buttons.signup_button' | translate }}
          </button>
        </div>
      </ng-template>
    </div>
  </div>
  <div *ngIf="isAuthorized" class="mobile-search-bar">
    <app-search-bar></app-search-bar>
  </div>
  <div class="mobile-menu">
    <button
      mat-icon-button
      [matMenuTriggerFor]="menu"
      aria-label="Example icon-button with a menu">
      <mat-icon>menu</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button *ngIf="isAuthorized" (click)="onCreateNewBoard()" mat-menu-item>
        <mat-icon color="warn">dashboard_customize</mat-icon>
        <span>{{ 'HEADER.new_board_button' | translate }}</span>
      </button>
      <button *ngIf="isAuthorized" routerLink="/profile" mat-menu-item>
        {{ 'HEADER.buttons.profile_button' | translate }}
      </button>
      <button *ngIf="!isAuthorized" routerLink="/auth/login" mat-menu-item>
        {{ 'HEADER.buttons.login_button' | translate }}
      </button>
      <button *ngIf="isAuthorized" (click)="logout()" mat-menu-item>
        {{ 'HEADER.buttons.logout_button' | translate }}
      </button>

      <button mat-menu-item (click)="LanguageSwitcher()" aria-label="languages">
        <mat-icon color="warn">translate</mat-icon>
        <span  class="text-sm">{{ switchLanguageTo }}</span>
      </button>
    </mat-menu>
  </div>
</div>
